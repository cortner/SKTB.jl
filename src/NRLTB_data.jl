#
# This file is a temporary "hack" - we need to get a database
#

############################### DATAS FOR NRL-TB #######################################

try
   import TBDataFiles
catch
end

function default_orbitals(s)
   s = string(s)
   # if s == "Al"  return "spd"
   # if s == "Si"  return "sp"
   if s == "C" || s == "Si"
      return "sp"
   else
      return "spd"
   end
   error("unkown species in `NRLParams`")
end


function load_NRLHamiltonian(fname)
   # HUAJIE TODO
end

function NRLHamiltonian(s; orbitals=default_orbitals(s), cutoff=:forceshift)
   s = string(s)
   orbitals = string(orbitals)
   if s == "Al"  && orbitals == "spd"
      H = Al_spd
   elseif s == "Si" && orbitals == "sp"
      H = Si_sp
   elseif s == "Si" && orbitals == "spd"
      H = Si_spd
   elseif s == "C" && orbitals == "sp"
      H = C_sp
   else
      try
         fname = TBDataFiles.get_datafile(s, orbitals)
         H = load_NRLHamiltonian(fname)
      catch
         error("unkown species / orbitals combination in `NRLParams`")
      end
   end

   if cutoff == :original
      H.fcut = cutoff_NRL_original
   elseif cutoff == :energyshift
      H.fcut = cutoff_NRL_Eshift
   elseif cutoff == :forceshift
      H.fcut = cutoff_NRL_Fshift
   else
      error("unknown cut-off type")
   end
   return H
end





# SILICON
# 'Si' : silicon with s&p orbitals
# reduce Rc = 12.5 to 7.5
Si_sp  =  NRLHamiltonian{4, Function}(4, 4,			    # norbital, nbond
                    12.5, 0.5, cutoff_NRL,			# Rc, lc
                    1.10356625153,		# 位
                    [-0.053233461902,  0.357859715265,  0.357859715265,  0.357859715265],  	#a
                    [-0.907642743185,  0.303647693101,  0.303647693101,  0.303647693101],   	#b
                    [-8.83084913674,   7.09222903560,   7.09222903560,   7.09222903560],     	#c
                    [56.5661321469,    -77.4785508399,  -77.4785508399,  -77.4785508399],     	#d
                    [219.560813651,    10.127687621,    -22.959028107,   10.265449263],  		#e
                    [-16.2132459618,   -4.4036811240,   1.7207707741,   4.6718241428],   		#f
                    [-15.5048968097,   0.2266767834,   1.4191307713,   -2.2161562721],   		#g
                    [1.26439940008,   0.92267194054,   1.03136916513,   1.11134828469],  		#h
                    [1.0, 		     0.0,     		 1.0, 			 1.0],			    	#p
                    [5.157587186,     8.873646665,     11.250489009,   -692.184231145],    	#q
                    [0.660009308,     -16.240770475,  -1.1701322929,    396.153248956],    	#r
                    [-0.0815441307,   5.1822969049,   -1.0591485021,   -13.8172106270],        #s
                    [1.10814448800,   1.24065238343,   1.13762861032,   1.57248559510],  		#t
                   )


# SILICON
# 'Si' : silicon with s&p&d orbitals  :BUT: ignore d-d orbital interactions
# reduce Rc = 12.5 to 7.5
Si_spd  =  NRLHamiltonian{9, Function}(9, 10,			# norbital, nbond
                     12.5, 0.5, cutoff_NRL,			# Rc, lc
                     1.1108,		# 位
                     [-0.0555,  0.4127,   0.4127,   0.4127,
                      0.9691,   0.9691,   0.9691,   0.9691,  0.9691],         	#a
                     [-1.1131,  -0.0907,  -0.0907,  -0.0907,
                      -0.9151,  -0.9151,  -0.9151,  -0.9151, -0.9151],       	#b
                     [-7.3201,  5.3155,   5.3155,   5.3155,
                      -5.9743,  -5.9743,  -5.9743,  -5.9743, -5.9743],  	    #c
                     [74.8905,  -44.0417, -44.0417, -44.0417,
                      602.0289, 602.0289, 602.0289, 602.0289, 602.0289],       	#d

                     [234.6937,   9.5555,  -22.6782,   -1.5942,  -7571.4416,
                      -1.8087,   0.8933,  0.0,   0.0,  0.0],				    #e
                     [-18.6013,   -4.1279,   1.3611,   4.7914,   2.2354,
                      -3.4695,   0.1058,  0.0,  0.0,  0.0],                     #f
                     [-15.0266,   0.2499,    1.3879,   -1.5693,   7.0122,
                      -7.7637,   -0.0224, 0.0,  0.0,  0.0],                     #g
                     [1.2502,    0.8761,    1.01655,    1.1030,   1.6234,
                      1.6294,   0.8217,   0.0,  0.0,  0.0],                     #h

                     [1.0,   0.0,  1.0,   1.0,   0.0,
                      0.0,   0.0,  1.0,   1.0,   1.0],		                    #p
                     [2.4394,   -12.0027,  13.9608,   188.0012,   11.4724,
                      -0.6071,  -2.1340,   0.0,  0.0,  0.0],                    #q
                     [0.9091,   -14.6860,  -1.1961,  -143.3625,  -0.4454,
                      0.05789,  -0.5209,   0.0,  0.0,  0.0],                    #r
                     [-0.0749,   6.1856,   -1.2606,   33.5043,   -0.5838,
                      0.0221,   -0.0948,   0.0,  0.0,  0.0],                    #s
                     [1.0590,   1.2218,    1.1118,    1.4340,   1.0598,
                      0.8130,   1.0580,    0.0,  0.0,  0.0],                    #t
                    )




# CARBON
# 'C' : carbon with s&p orbitals
# reduce Rc = 10.5 to 6.0
C_sp  =  NRLHamiltonian{4, Function}( 4, 4,			    # norbital, nbond
                    10.5, 0.5, cutoff_NRL,			# Rc, lc
                    1.59901905594,		# 位
                    [-0.102789972814,  0.542619178314,  0.542619178314,  0.542619178314],  	#a
                    [-1.62604640052,   2.73454062799,   2.73454062799,   2.73454062799],   	#b
                    [-178.884826119,  -67.139709883,   -67.139709883,  -67.139709883],     	#c
                    [4516.11342028,    438.52883145,   438.52883145,   438.52883145],      	#d
                    [74.0837449667,   -7.9172955767,   -5.7016933899,   24.9104111573],  		#e
                    [-18.3225697598,   3.6163510241,   1.0450894823,   -5.0603652530],   		#f
                    [-12.5253007169,   1.0416715714,   1.5062731505,   -3.6844386855],   		#g
                    [1.41100521808,   1.16878908431,   1.13627440135,   1.36548919302],  		#h
                    [1.0,             0.0,             1.0,             1.0],              	#p
                    [0.18525064246,   1.85250642463,   -1.29666913067,   0.74092406925],   	#q
                    [1.56010486948,   -2.50183774417,   0.28270660019,   -0.07310263856],  	#r
                    [-0.308751658739,   0.178540723033,   -0.022234235553,   0.016694077196],  #s
                    [1.13700564649,   1.12900344616,   0.76177690688,   1.02148246334],  		#t
                   )



# ALUMINIUM
# 'Al' : Aluminum with s&p&d orbitals
# reduce Rc = 16.5 to 9.5
Al_spd  =  NRLHamiltonian{9, Function}(9, 10,			        # norbital, nbond
                     16.5, 0.5, cutoff_NRL,			# Rc, lc
                     1.108515601511,		# 位
                     [-0.0368090795665,  0.394060871550,  0.394060871550,  0.394060871550,
                      1.03732517161,  1.03732517161,  1.03732517161, 1.03732517161, 1.03732517161],         	#a
                     [1.41121601477,  0.996479629379,   0.996479629379,  0.996479629379,
                      2.25910876474,  2.25910876474,  2.25910876474,  2.25910876474,  2.25910876474],       	#b
                     [13.7933378593,   7.02388797078,    7.02388797078,   7.02388797078,
                      -34.3716752929,  -34.3716752929,  -34.3716752929,  -34.3716752929,  -34.3716752929],  	#c
                     [-150.317796096,   -77.7996182049,  -77.7996182049,  -77.7996182049,
                      293.811629762,  293.811629762,  293.811629762,  293.811629762,  293.811629762],       	#d

                     [-45.1824404773,   11.1265443008,  -27.7049616756,   7.48992761254,  -29.0814831341,
                      0.843008479887,   35.6686973234,  -8939.68482560,   -55.7867097600,  41.7418125111],      #e
                     [19.0441568385,   -4.74833564810,   1.14888504976,   3.01675751048,   12.2929753319,
                      -1.52618018997,  -8.20900836372,   730.518353338,   0.853972348751,  -12.0915149851],     #f
                     [-2.81748968422,   0.273179395549,    1.33493438322,   -1.27543114992,   -1.75865704211,
                      0.378014000015,   -0.777295830901,   282.319390496,   2.30786449075,    0.905794614748],  #g
                     [1.05012810116,    0.880778921750,    0.983097680652,    1.01546352470,    1.03433851149,
                      0.964916606335,   1.08355725127,    1.35770591641,    0.997222907112,    0.898850379448], #h

                     [-20.9441522845,   -13.0267838833,   -13.7830192613,   560.641345191,   -103.077140819,
                      20.8403415336,   23.9108771944,   -295.728688028,   -17.2027621079,   -42.9299886946],    #p
                     [17.5240112799,   7.92017585690,   5.15785376743,   -215.309856616,   33.5869977281,
                      -6.65151229760,   -5.86527866863,   80.7470264719,   -6.54916621891,   23.2260645871],    #q
                     [-1.33002925172,   -0.523366384472,   -1.08061004452,   24.2658321255,   -1.86799882707,
                      0.195368101148,   0.725698443913,   -2.93711938026,   1.11096322734,   -0.538315401068],  #r
                     [0.0,   0.0,   0.0,   0.0,   0.0,
                      0.0,   0.0,   0.0,   0.0,   0.0],     													#s
                     [1.06584516722,   0.943623371617,   0.915429215594,   1.17753799190,   0.988337965212,
                      0.873041790591,   0.999293973116,   1.02005972107,   1.01466433826,   1.14341718458],     #t
                    )
